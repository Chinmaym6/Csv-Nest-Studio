{"ast":null,"code":"import React,{useState,useRef,useCallback}from'react';import'./DropZone.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function DropZone(_ref){let{onFile}=_ref;const[dragging,setDragging]=useState(false);const[progress,setProgress]=useState(0);const inputRef=useRef();const handleFiles=useCallback(file=>{const reader=new FileReader();reader.onprogress=e=>{if(e.lengthComputable){setProgress(e.loaded/e.total*100);}};reader.onloadend=()=>{setProgress(0);onFile(file.name,reader.result);};reader.readAsText(file);},[onFile]);const onDrop=e=>{e.preventDefault();setDragging(false);const file=e.dataTransfer.files[0];if(file&&file.name.endsWith('.csv'))handleFiles(file);};return/*#__PURE__*/_jsxs(\"div\",{className:`dropzone ${dragging?'drag-over':''}`,onDragOver:e=>{e.preventDefault();setDragging(true);},onDragLeave:()=>setDragging(false),onDrop:onDrop,onClick:()=>inputRef.current.click(),children:[/*#__PURE__*/_jsx(\"input\",{ref:inputRef,type:\"file\",accept:\".csv\",style:{display:'none'},onChange:e=>handleFiles(e.target.files[0])}),progress>0?/*#__PURE__*/_jsxs(\"progress\",{value:progress,max:\"100\",children:[Math.round(progress),\"%\"]}):/*#__PURE__*/_jsx(\"p\",{children:\"Drag & drop a CSV here, or click to select\"})]});}","map":{"version":3,"names":["React","useState","useRef","useCallback","jsx","_jsx","jsxs","_jsxs","DropZone","_ref","onFile","dragging","setDragging","progress","setProgress","inputRef","handleFiles","file","reader","FileReader","onprogress","e","lengthComputable","loaded","total","onloadend","name","result","readAsText","onDrop","preventDefault","dataTransfer","files","endsWith","className","onDragOver","onDragLeave","onClick","current","click","children","ref","type","accept","style","display","onChange","target","value","max","Math","round"],"sources":["C:/Users/91767/Desktop/csv-file-manager/frontend/src/components/DropZone.jsx"],"sourcesContent":["import React, { useState, useRef, useCallback } from 'react';\r\nimport './DropZone.css';\r\n\r\nexport default function DropZone({ onFile }) {\r\n  const [dragging, setDragging] = useState(false);\r\n  const [progress, setProgress] = useState(0);\r\n  const inputRef = useRef();\r\n\r\n  const handleFiles = useCallback(file => {\r\n    const reader = new FileReader();\r\n    reader.onprogress = e => {\r\n      if (e.lengthComputable) {\r\n        setProgress((e.loaded / e.total) * 100);\r\n      }\r\n    };\r\n    reader.onloadend = () => {\r\n      setProgress(0);\r\n      onFile(file.name, reader.result);\r\n    };\r\n    reader.readAsText(file);\r\n  }, [onFile]);\r\n\r\n  const onDrop = e => {\r\n    e.preventDefault();\r\n    setDragging(false);\r\n    const file = e.dataTransfer.files[0];\r\n    if (file && file.name.endsWith('.csv')) handleFiles(file);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`dropzone ${dragging ? 'drag-over' : ''}`}\r\n      onDragOver={e => { e.preventDefault(); setDragging(true); }}\r\n      onDragLeave={() => setDragging(false)}\r\n      onDrop={onDrop}\r\n      onClick={() => inputRef.current.click()}\r\n    >\r\n      <input\r\n        ref={inputRef}\r\n        type=\"file\"\r\n        accept=\".csv\"\r\n        style={{ display: 'none' }}\r\n        onChange={e => handleFiles(e.target.files[0])}\r\n      />\r\n      {progress > 0\r\n        ? <progress value={progress} max=\"100\">{Math.round(progress)}%</progress>\r\n        : <p>Drag &amp; drop a CSV here, or click to select</p>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,MAAM,CAAEC,WAAW,KAAQ,OAAO,CAC5D,MAAO,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExB,cAAe,SAAS,CAAAC,QAAQA,CAAAC,IAAA,CAAa,IAAZ,CAAEC,MAAO,CAAC,CAAAD,IAAA,CACzC,KAAM,CAACE,QAAQ,CAAEC,WAAW,CAAC,CAAGX,QAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAACY,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAAC,CAAC,CAAC,CAC3C,KAAM,CAAAc,QAAQ,CAAGb,MAAM,CAAC,CAAC,CAEzB,KAAM,CAAAc,WAAW,CAAGb,WAAW,CAACc,IAAI,EAAI,CACtC,KAAM,CAAAC,MAAM,CAAG,GAAI,CAAAC,UAAU,CAAC,CAAC,CAC/BD,MAAM,CAACE,UAAU,CAAGC,CAAC,EAAI,CACvB,GAAIA,CAAC,CAACC,gBAAgB,CAAE,CACtBR,WAAW,CAAEO,CAAC,CAACE,MAAM,CAAGF,CAAC,CAACG,KAAK,CAAI,GAAG,CAAC,CACzC,CACF,CAAC,CACDN,MAAM,CAACO,SAAS,CAAG,IAAM,CACvBX,WAAW,CAAC,CAAC,CAAC,CACdJ,MAAM,CAACO,IAAI,CAACS,IAAI,CAAER,MAAM,CAACS,MAAM,CAAC,CAClC,CAAC,CACDT,MAAM,CAACU,UAAU,CAACX,IAAI,CAAC,CACzB,CAAC,CAAE,CAACP,MAAM,CAAC,CAAC,CAEZ,KAAM,CAAAmB,MAAM,CAAGR,CAAC,EAAI,CAClBA,CAAC,CAACS,cAAc,CAAC,CAAC,CAClBlB,WAAW,CAAC,KAAK,CAAC,CAClB,KAAM,CAAAK,IAAI,CAAGI,CAAC,CAACU,YAAY,CAACC,KAAK,CAAC,CAAC,CAAC,CACpC,GAAIf,IAAI,EAAIA,IAAI,CAACS,IAAI,CAACO,QAAQ,CAAC,MAAM,CAAC,CAAEjB,WAAW,CAACC,IAAI,CAAC,CAC3D,CAAC,CAED,mBACEV,KAAA,QACE2B,SAAS,CAAE,YAAYvB,QAAQ,CAAG,WAAW,CAAG,EAAE,EAAG,CACrDwB,UAAU,CAAEd,CAAC,EAAI,CAAEA,CAAC,CAACS,cAAc,CAAC,CAAC,CAAElB,WAAW,CAAC,IAAI,CAAC,CAAE,CAAE,CAC5DwB,WAAW,CAAEA,CAAA,GAAMxB,WAAW,CAAC,KAAK,CAAE,CACtCiB,MAAM,CAAEA,MAAO,CACfQ,OAAO,CAAEA,CAAA,GAAMtB,QAAQ,CAACuB,OAAO,CAACC,KAAK,CAAC,CAAE,CAAAC,QAAA,eAExCnC,IAAA,UACEoC,GAAG,CAAE1B,QAAS,CACd2B,IAAI,CAAC,MAAM,CACXC,MAAM,CAAC,MAAM,CACbC,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAE,CAC3BC,QAAQ,CAAEzB,CAAC,EAAIL,WAAW,CAACK,CAAC,CAAC0B,MAAM,CAACf,KAAK,CAAC,CAAC,CAAC,CAAE,CAC/C,CAAC,CACDnB,QAAQ,CAAG,CAAC,cACTN,KAAA,aAAUyC,KAAK,CAAEnC,QAAS,CAACoC,GAAG,CAAC,KAAK,CAAAT,QAAA,EAAEU,IAAI,CAACC,KAAK,CAACtC,QAAQ,CAAC,CAAC,GAAC,EAAU,CAAC,cACvER,IAAA,MAAAmC,QAAA,CAAG,4CAA8C,CAAG,CAAC,EAEtD,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
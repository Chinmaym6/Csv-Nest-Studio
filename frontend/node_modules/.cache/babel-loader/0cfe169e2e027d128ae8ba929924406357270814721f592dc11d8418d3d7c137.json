{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useCallback } from 'react';\nexport default function useUndoable(initial) {\n  _s();\n  const [history, setHistory] = useState({\n    past: [],\n    present: initial,\n    future: []\n  });\n  const {\n    past,\n    present,\n    future\n  } = history;\n  //  set is used to update the present state and store the old state into past.\n  const set = useCallback(updater => {\n    setHistory(h => {\n      const next = typeof updater === 'function' ? updater(h.present) : updater;\n      if (next === h.present) return h;\n      return {\n        past: [...h.past, h.present],\n        present: next,\n        future: []\n      };\n    });\n  }, []);\n  const undo = useCallback(() => {\n    setHistory(h => {\n      if (h.past.length === 0) return h;\n      const previous = h.past[h.past.length - 1];\n      return {\n        past: h.past.slice(0, -1),\n        present: previous,\n        future: [h.present, ...h.future]\n      };\n    });\n  }, []);\n  const redo = useCallback(() => {\n    setHistory(h => {\n      if (h.future.length === 0) return h;\n      const next = h.future[0];\n      return {\n        past: [...h.past, h.present],\n        present: next,\n        future: h.future.slice(1)\n      };\n    });\n  }, []);\n  const reset = useCallback(state => {\n    setHistory({\n      past: [],\n      present: state,\n      future: []\n    });\n  }, []);\n  return {\n    present,\n    set,\n    undo,\n    redo,\n    reset,\n    canUndo: past.length > 0,\n    canRedo: future.length > 0\n  };\n}\n_s(useUndoable, \"/b/V02azuWjCMcikwAbMniwAoks=\");","map":{"version":3,"names":["useState","useCallback","useUndoable","initial","_s","history","setHistory","past","present","future","set","updater","h","next","undo","length","previous","slice","redo","reset","state","canUndo","canRedo"],"sources":["C:/Users/91767/Desktop/csv-file-manager/frontend/src/contexts/useUndoable.jsx"],"sourcesContent":["import { useState, useCallback } from 'react';\r\n\r\nexport default function useUndoable(initial) {\r\n  const [history, setHistory] = useState({\r\n    past: [],\r\n    present: initial,\r\n    future: []\r\n  });\r\n\r\n  const { past, present, future } = history;\r\n//  set is used to update the present state and store the old state into past.\r\n  const set = useCallback(updater => {\r\n    setHistory(h => {\r\n      const next =\r\n        typeof updater === 'function'\r\n          ? updater(h.present)\r\n          : updater;\r\n      if (next === h.present) return h;\r\n      return {\r\n        past: [...h.past, h.present],\r\n        present: next,\r\n        future: []\r\n      };\r\n    });\r\n  }, []);\r\n\r\n  const undo = useCallback(() => {\r\n    setHistory(h => {\r\n      if (h.past.length === 0) return h;\r\n      const previous = h.past[h.past.length - 1];\r\n      return {\r\n        past: h.past.slice(0, -1),\r\n        present: previous,\r\n        future: [h.present, ...h.future]\r\n      };\r\n    });\r\n  }, []);\r\n\r\n  const redo = useCallback(() => {\r\n    setHistory(h => {\r\n      if (h.future.length === 0) return h;\r\n      const next = h.future[0];\r\n      return {\r\n        past: [...h.past, h.present],\r\n        present: next,\r\n        future: h.future.slice(1)\r\n      };\r\n    });\r\n  }, []);\r\n\r\n  const reset = useCallback(state => {\r\n    setHistory({ past: [], present: state, future: [] });\r\n  }, []);\r\n\r\n  return {\r\n    present,\r\n    set,\r\n    undo,\r\n    redo,\r\n    reset,\r\n    canUndo: past.length > 0,\r\n    canRedo: future.length > 0\r\n  };\r\n}"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AAE7C,eAAe,SAASC,WAAWA,CAACC,OAAO,EAAE;EAAAC,EAAA;EAC3C,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGN,QAAQ,CAAC;IACrCO,IAAI,EAAE,EAAE;IACRC,OAAO,EAAEL,OAAO;IAChBM,MAAM,EAAE;EACV,CAAC,CAAC;EAEF,MAAM;IAAEF,IAAI;IAAEC,OAAO;IAAEC;EAAO,CAAC,GAAGJ,OAAO;EAC3C;EACE,MAAMK,GAAG,GAAGT,WAAW,CAACU,OAAO,IAAI;IACjCL,UAAU,CAACM,CAAC,IAAI;MACd,MAAMC,IAAI,GACR,OAAOF,OAAO,KAAK,UAAU,GACzBA,OAAO,CAACC,CAAC,CAACJ,OAAO,CAAC,GAClBG,OAAO;MACb,IAAIE,IAAI,KAAKD,CAAC,CAACJ,OAAO,EAAE,OAAOI,CAAC;MAChC,OAAO;QACLL,IAAI,EAAE,CAAC,GAAGK,CAAC,CAACL,IAAI,EAAEK,CAAC,CAACJ,OAAO,CAAC;QAC5BA,OAAO,EAAEK,IAAI;QACbJ,MAAM,EAAE;MACV,CAAC;IACH,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMK,IAAI,GAAGb,WAAW,CAAC,MAAM;IAC7BK,UAAU,CAACM,CAAC,IAAI;MACd,IAAIA,CAAC,CAACL,IAAI,CAACQ,MAAM,KAAK,CAAC,EAAE,OAAOH,CAAC;MACjC,MAAMI,QAAQ,GAAGJ,CAAC,CAACL,IAAI,CAACK,CAAC,CAACL,IAAI,CAACQ,MAAM,GAAG,CAAC,CAAC;MAC1C,OAAO;QACLR,IAAI,EAAEK,CAAC,CAACL,IAAI,CAACU,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;QACzBT,OAAO,EAAEQ,QAAQ;QACjBP,MAAM,EAAE,CAACG,CAAC,CAACJ,OAAO,EAAE,GAAGI,CAAC,CAACH,MAAM;MACjC,CAAC;IACH,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMS,IAAI,GAAGjB,WAAW,CAAC,MAAM;IAC7BK,UAAU,CAACM,CAAC,IAAI;MACd,IAAIA,CAAC,CAACH,MAAM,CAACM,MAAM,KAAK,CAAC,EAAE,OAAOH,CAAC;MACnC,MAAMC,IAAI,GAAGD,CAAC,CAACH,MAAM,CAAC,CAAC,CAAC;MACxB,OAAO;QACLF,IAAI,EAAE,CAAC,GAAGK,CAAC,CAACL,IAAI,EAAEK,CAAC,CAACJ,OAAO,CAAC;QAC5BA,OAAO,EAAEK,IAAI;QACbJ,MAAM,EAAEG,CAAC,CAACH,MAAM,CAACQ,KAAK,CAAC,CAAC;MAC1B,CAAC;IACH,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAME,KAAK,GAAGlB,WAAW,CAACmB,KAAK,IAAI;IACjCd,UAAU,CAAC;MAAEC,IAAI,EAAE,EAAE;MAAEC,OAAO,EAAEY,KAAK;MAAEX,MAAM,EAAE;IAAG,CAAC,CAAC;EACtD,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IACLD,OAAO;IACPE,GAAG;IACHI,IAAI;IACJI,IAAI;IACJC,KAAK;IACLE,OAAO,EAAEd,IAAI,CAACQ,MAAM,GAAG,CAAC;IACxBO,OAAO,EAAEb,MAAM,CAACM,MAAM,GAAG;EAC3B,CAAC;AACH;AAACX,EAAA,CA7DuBF,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}